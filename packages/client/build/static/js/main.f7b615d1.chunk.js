(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,n,t){e.exports=t(94)},49:function(e,n,t){},50:function(e,n,t){},80:function(e,n){},94:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(37),o=t.n(c),i=(t(49),t(43)),l=t(5),u=t(1),s=(t(50),t(38)),f=t.n(s),d=t(2);function m(){var e=Object(u.a)(["\n    padding: 10px;\n    background: ",";\n    max-width: 70%;\n    margin-bottom: 7px;\n    display: flex;\n    .hanlde {\n        font-size: 0.8em;\n        color: ","\n    }\n"]);return m=function(){return e},e}var v="#aaa",h="#b8d6f4",p="#fff",b=d.a.div(m(),(function(e){return e.isSelf?h:p}),v),g=function(e){var n=e.handle,t=void 0===n?"":n,c=e.text,o=void 0===c?"":c,i=t===Object(a.useContext)(z).selfHandle;return r.a.createElement("div",{style:{display:"flex",justifyContent:i?"flex-end":"flex-start"}},r.a.createElement(b,{isSelf:i},r.a.createElement("div",null,r.a.createElement("div",null),r.a.createElement("div",null,!i&&r.a.createElement("div",{className:"hanlde"},t),r.a.createElement("div",null,o)))))};function E(){var e=Object(u.a)(["\n    padding: 7px;\n    color: #aaa;\n"]);return E=function(){return e},e}var j=d.a.div(E()),x=function(e){var n=e.message,t=void 0===n?"New Event Occured":n;return(r.a.createElement(j,null,t))};function O(){var e=Object(u.a)(["\n  height: 500px;\n  overflow-x: hidden;\n  overflow-y: scroll;\n"]);return O=function(){return e},e}var w=d.a.div(O()),y=function(e){var n=e.messages,t=void 0===n?[]:n,c=Object(a.useRef)();return Object(a.useEffect)((function(){c.current.scrollIntoView({behavior:"smooth"})}),[t.length]),r.a.createElement("div",null,r.a.createElement("h1",null,"Messages"),r.a.createElement(w,null,t.map((function(e,n){switch(e.handle){case"admin":return r.a.createElement(x,{key:n,message:e.text});default:return r.a.createElement(g,Object.assign({key:n},e))}})),r.a.createElement("div",{style:{float:"left",clear:"both"},ref:c})))};function k(){var e=Object(u.a)(["\n    button {\n        padding: 10px;\n    }\n"]);return k=function(){return e},e}function S(){var e=Object(u.a)(["\n    flex: 1;\n    input {\n        display: block;\n        border: none;\n        width: calc(100% - 34px);\n        padding: 17px;\n    }\n"]);return S=function(){return e},e}function C(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: 'row';\n    bottom: 30px;\n"]);return C=function(){return e},e}var M=d.a.div(C()),B=d.a.div(S()),H=(d.a.div(k()),function(e){var n=e.onSendMessage,t=void 0===n?function(){return!1}:n,c=Object(a.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1];return r.a.createElement(M,null,r.a.createElement(B,null,r.a.createElement("input",{value:i,onKeyPress:function(e){"Enter"===e.key&&i&&t(i,(function(){return u("")}))},placeholder:"Type your message to send here...",onChange:function(e){var n=e.target.value||"";u(n)}})))}),I=t(42),J=t.n(I);function N(){var e=Object(u.a)(["\n  width: 800px;\n  margin: auto;\n  margin-top: 100px;\n"]);return N=function(){return e},e}var P,W=d.a.div(N()),z=Object(a.createContext)({handle:"",channel:""}),K=function(){var e="https://chat-with-upen.herokuapp.com/",n=Object(a.useState)([]),t=Object(l.a)(n,2),c=t[0],o=t[1],u=Object(a.useState)(""),s=Object(l.a)(u,2),d=s[0],m=s[1],v=Object(a.useState)(""),h=Object(l.a)(v,2),p=h[0],b=h[1];Object(a.useEffect)((function(){P=f()(e);var n=J.a.parse(window.location.search),t=n.handle,a=n.channel;return m(t),b(a),console.log(n),P.emit("join",{handle:t,channel:a},(function(e,n){var t=n.messages;e&&console.error(e),o(t)})),function(){P.emit("disconnect"),P.off()}}),[e]),Object(a.useEffect)((function(){P.on("server-message",(function(e){o([].concat(Object(i.a)(c||[]),[e]))}))}),[c]);return r.a.createElement(z.Provider,{value:{selfHandle:d,channel:p}},r.a.createElement(W,null,r.a.createElement(y,{messages:c}),r.a.createElement(H,{onSendMessage:function(e,n){P.emit("send-message",{message:e},n)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.f7b615d1.chunk.js.map